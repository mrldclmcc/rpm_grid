<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sandbag Intensity</title>
    <style>
        :root {
            --bg-primary: #f8f9fa;
            --bg-secondary: #ffffff;
            --text-primary: #212529;
            --text-secondary: #6c757d;
            --accent: #3b82f6;
            --accent-light: #eff6ff;
            --border: #e5e7eb;
            --shadow: 0 4px 6px -1px rgba(0,0,0,.05),0 2px 4px -2px rgba(0,0,0,.05);
            --shadow-hover: 0 10px 15px -3px rgba(0,0,0,.07),0 4px 6px -4px rgba(0,0,0,.07);
            --radius: 12px;
            --spacing: 1.75rem;
        }
        *{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
        html{scroll-behavior:smooth}
        body{font-family:-apple-system,BlinkMacSystemFont,"Inter","Segoe UI",sans-serif;background:var(--bg-primary);min-height:100vh;color:var(--text-primary);line-height:1.6;-webkit-font-smoothing:antialiased}
        .app{max-width:480px;margin:0 auto;min-height:100vh;background:var(--bg-secondary);box-shadow:var(--shadow);position:relative;overflow:hidden}
        .header{background:var(--bg-secondary);padding:1.5rem var(--spacing);text-align:center;border-bottom:1px solid var(--border);position:relative;z-index:100}
        .header h1{font-size:1.5rem;font-weight:600;letter-spacing:-.5px;margin-bottom:.25rem}
        .header .tagline{font-size:.9rem;color:var(--text-secondary)}
        .back-btn{position:absolute;top:50%;left:.75rem;transform:translateY(-50%);background:transparent;border:none;color:var(--text-primary);font-size:1.75rem;cursor:pointer;border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:.2s}
        .back-btn.visible{opacity:1;pointer-events:auto}
        .main-content{padding:var(--spacing)}
        .loading{text-align:center;padding:2rem;color:var(--text-secondary)}
        .spinner{width:28px;height:28px;border-radius:50%;border-top:3px solid var(--accent);border-right:3px solid transparent;margin:0 auto 1rem;animation:spin 1s linear infinite}
        @keyframes spin{to{transform:rotate(360deg)}}
        .workout-grid{display:grid;gap:1.25rem}
        .workout-card{background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius);padding:1.5rem;box-shadow:var(--shadow);cursor:pointer;transition:transform .3s,box-shadow .3s}
        .workout-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-hover)}
        .workout-card h3{font-size:1.2rem;font-weight:600;margin-bottom:.5rem}
        .workout-card .description{color:var(--text-secondary);font-size:.9rem;margin-bottom:1.25rem}
        .workout-card .exercise-count{background:var(--accent-light);color:var(--accent);padding:.3rem .8rem;border-radius:20px;font-size:.8rem;font-weight:500;display:inline-block}
        .workout-detail{position:absolute;top:0;left:100%;width:100%;height:100%;background:var(--bg-secondary);transition:transform .4s;overflow-y:auto;z-index:10;will-change:transform}
        .workout-detail.active{transform:translateX(-100%)}
        .workout-detail-content{padding:var(--spacing);padding-top:7rem}
        .exercise-block{border:1px solid var(--border);border-radius:var(--radius);padding:1.5rem;margin-bottom:1rem;cursor:pointer}
        .exercise-title{font-size:1.15rem;font-weight:600;margin-bottom:.25rem}
        .exercise-scheme{color:var(--text-secondary);font-size:.9rem;margin-bottom:.75rem}
        .exercise-desc{font-size:.9rem;color:var(--text-secondary);line-height:1.7}
        .modal{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;pointer-events:none;transition:.3s;padding:1rem}
        .modal.active{opacity:1;pointer-events:auto}
        .modal-content{background:var(--bg-secondary);border-radius:var(--radius);padding:2rem;max-width:400px;width:100%;max-height:80vh;overflow-y:auto;box-shadow:var(--shadow-hover);transform:scale(.95);transition:.3s}
        .modal.active .modal-content{transform:scale(1)}
        .modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}
        .modal-title{font-size:1.3rem;font-weight:600}
        .modal-close{background:transparent;border:none;font-size:1.75rem;cursor:pointer;color:var(--text-secondary);border-radius:50%;width:44px;height:44px}
        .modal-close:hover{background:var(--bg-primary)}
        .modal-body{color:var(--text-secondary);line-height:1.7}
        .modal-body h4{color:var(--text-primary);margin:1.5rem 0 .5rem;font-weight:600}
        .modal-body ul{margin-left:1.5rem}
        .modal-body li{margin-bottom:.5rem}
        @media(max-width:480px){:root{--spacing:1.25rem}.header{padding:1rem var(--spacing)}.workout-detail-content{padding-top:6rem}.modal-content{padding:1.5rem}}
    </style>
</head>
<body>
<div class="app">
    <header class="header" id="appHeader">
        <button class="back-btn" id="backBtn" aria-label="Go back">‚Üê</button>
        <h1 id="headerTitle">Sandbag Intensity</h1>
        <p class="tagline" id="headerTagline">The 50-Rep Squat Program</p>
    </header>

    <main class="main-content" id="mainContent">
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Loading Workouts‚Ä¶</p>
        </div>
        <div class="workout-grid" id="workoutGrid"></div>
    </main>

    <div class="workout-detail" id="workoutDetail">
        <div class="workout-detail-content" id="workoutDetailContent"></div>
    </div>

    <div class="modal" id="exerciseModal" role="dialog" aria-modal="true">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle"></h3>
                <button class="modal-close" id="modalClose" aria-label="Close">√ó</button>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>
</div>

<script>
const programData = {
    program: { name: "Sandbag Intensity", tagline: "The 50-Rep Squat Program" },
    workouts: [
        {
            id: "sandbag_a",
            name: "Sandbag Workout A",
            description: "Explosive lifts, rowing, and the legendary 50-rep squat challenge.",
            blocks: [
                { exerciseId: "one_motion_lift", schemeId: "explosive_singles" },
                { exerciseId: "sandbag_row", schemeId: "waving_row" },
                { exerciseId: "sandbag_box_squat", schemeId: "rest_pause_50" },
                { exerciseId: "band_good_morning", schemeId: "hundred_reps" },
                { exerciseId: "crunches", schemeId: "hundred_reps" },
                { exerciseId: "oblique_crunches", schemeId: "fifty_per_side" }
            ]
        },
        {
            id: "sandbag_b",
            name: "Sandbag Workout B",
            description: "Explosive lifts, carries, and the relentless 50-rep squat.",
            blocks: [
                { exerciseId: "one_motion_lift", schemeId: "explosive_singles" },
                { exerciseId: "bear_hug_carry", schemeId: "waving_carry" },
                { exerciseId: "sandbag_box_squat", schemeId: "rest_pause_50" },
                { exerciseId: "band_good_morning", schemeId: "hundred_reps" },
                { exerciseId: "crunches", schemeId: "hundred_reps" },
                { exerciseId: "oblique_crunches", schemeId: "fifty_per_side" }
            ]
        },
        {
            id: "calisthenics_a",
            name: "Calisthenics Workout A",
            description: "High-intensity ladder circuit + neck & arm finisher.",
            blocks: [
                { exerciseId: "circuit_a", schemeId: "density_20_25" },
                { exerciseId: "neck_curl", schemeId: "neck_pyramid" },
                { exerciseId: "neck_extension", schemeId: "neck_pyramid" },
                { exerciseId: "forearm_circuit", schemeId: "failure_10_30" },
                { exerciseId: "giant_set", schemeId: "giant_set_2x" },
                { exerciseId: "tricep_pushdown", schemeId: "hundred_rest_pause" }
            ]
        },
        {
            id: "calisthenics_b",
            name: "Calisthenics Workout B",
            description: "Compact density circuit + isolation finishers.",
            blocks: [
                { exerciseId: "circuit_b", schemeId: "density_20_25" },
                { exerciseId: "neck_curl", schemeId: "neck_pyramid" },
                { exerciseId: "neck_extension", schemeId: "neck_pyramid" },
                { exerciseId: "forearm_circuit", schemeId: "failure_10_30" },
                { exerciseId: "giant_set", schemeId: "giant_set_2x" },
                { exerciseId: "tricep_pushdown", schemeId: "hundred_rest_pause" }
            ]
        }
    ],
    exercises: {
        one_motion_lift: {
            name: "One-Motion Lift (Ground-to-Chest)",
            detail: `
                <h4>üéØ Purpose</h4><p>Explosive power & nervous-system ‚Äúwake-up‚Äù.</p>
                <h4>ü™ú Execution</h4>
                <ul>
                    <li>5 singles, 60-90 s rest.</li>
                    <li>From floor ‚Üí chest in one violent motion.</li>
                    <li>Each rep is a max-effort jump‚Äîspeed over load.</li>
                </ul>
                <h4>üí° Weight</h4><p>Heaviest bag you can still move fast; drop if speed fades.</p>
            `
        },
        sandbag_row: {
            name: "Sandbag Row",
            detail: `
                <h4>üéØ Purpose</h4><p>Posterior-chain & hamstring strength.</p>
                <h4>ü™ú Execution</h4>
                <ul>
                    <li>Hinge over horizontal bag, flat back.</li>
                    <li>Row to abdomen while driving feet through floor.</li>
                </ul>
                <h4>üìà Waving Progression</h4>
                <ol>
                    <li>Start: 10 sets √ó (your 5-8 RM ‚Äì 2 reps).</li>
                    <li>Each session +1 rep to one set, ‚Äì1 total set.</li>
                    <li>At 5√ó8, add 10-20 lb, restart 10√ó4.</li>
                </ol>
            `
        },
        sandbag_box_squat: {
            name: "Sandbag Box Squat",
            detail: `
                <h4>üéØ Goal</h4><p>Turn your 10-rep max into a 50-rep set.</p>
                <h4>ü™ú Execution</h4>
                <ul>
                    <li>Bear-hug bag, sit fully on box (thighs parallel).</li>
                    <li>Rock once, stand‚Äîrepeat.</li>
                    <li>Take 10-15 s micro-rests as needed.</li>
                    <li>Beat last session by ‚â•5 reps until 50, then add 10-20 lb.</li>
                </ul>
                <h4>üß† Mindset</h4><p>This is a mental war‚Äîembrace the suck.</p>
            `
        },
        bear_hug_carry: {
            name: "Bear-Hug Carry",
            detail: `
                <h4>üéØ Purpose</h4><p>Loaded core & grip endurance.</p>
                <h4>ü™ú Execution</h4>
                <ul>
                    <li>Bear-hug bag high, walk.</li>
                    <li>10 sets √ó (30-40 s max ‚Äì 10 s) to start.</li>
                    <li>Add 5 s per session until 10√ó40 s, then add weight.</li>
                </ul>
                <h4>‚öôÔ∏è Setup</h4><p>Use a box to rest bag between sets‚Äîsave your back.</p>
            `
        },
        band_good_morning: {
            name: "Band Good Morning",
            detail: `
                <h4>üéØ Purpose</h4><p>Posterior-chain pump & recovery.</p>
                <h4>ü™ú Execution</h4>
                <ul>
                    <li>Loop light band behind neck/shoulders.</li>
                    <li>Hinge at hips until torso near parallel; return.</li>
                    <li>100 total reps in any set configuration.</li>
                </ul>
            `
        },
        crunches: {
            name: "Crunches",
            detail: `
                <h4>üéØ Purpose</h4><p>Basic abdominal endurance.</p>
                <p>100 total reps, any set scheme, controlled tempo.</p>
            `
        },
        oblique_crunches: {
            name: "Oblique Crunches",
            detail: `
                <h4>üéØ Purpose</h4><p>Lateral core strength.</p>
                <p>50 reps per side, strict side-flexion.</p>
            `
        },
        circuit_a: {
            name: "Calisthenics Circuit A",
            detail: `
                <h4>üîÅ Circuit Moves</h4>
                <ol>
                    <li>Neutral-grip pull-ups</li>
                    <li>Diamond push-ups</li>
                    <li>Ab-wheel rollouts</li>
                    <li>Pike push-ups</li>
                </ol>
                <h4>ü™ú Ladder</h4><p>6-5-4 reps = 1 round.</p>
                <h4>‚è±Ô∏è Density</h4>
                <ul>
                    <li>As many rounds as possible in 20-25 min.</li>
                    <li>Beat last time by ‚â•1 s.</li>
                    <li>If finish under 20 min, add 1 round next session.</li>
                </ul>
            `
        },
        circuit_b: {
            name: "Calisthenics Circuit B",
            detail: `
                <h4>üîÅ Circuit Moves</h4>
                <ol>
                    <li>Pull-ups</li>
                    <li>Dips</li>
                    <li>Hanging leg raises</li>
                    <li>Decline pike push-ups</li>
                </ol>
                <h4>ü™ú Ladder</h4><p>5-3-2 reps = 1 round.</p>
                <h4>‚è±Ô∏è Density</h4><p>Same rules as Circuit A.</p>
            `
        },
        neck_curl: {
            name: "Neck Curl",
            detail: `
                <h4>üéØ Purpose</h4><p>Strengthen anterior neck.</p>
                <p>4√ó25 reps with neck harness or manual resistance. Last set near failure.</p>
            `
        },
        neck_extension: {
            name: "Neck Extension",
            detail: `
                <h4>üéØ Purpose</h4><p>Strengthen posterior neck.</p>
                <p>Same scheme as neck curl; alternate exercises set-to-set, no rest.</p>
            `
        },
        forearm_circuit: {
            name: "Forearm Circuit",
            detail: `
                <h4>üéØ Purpose</h4><p>Complete forearm development & elbow health.</p>
                <p>One set to failure (10-30 reps) each:</p>
                <ul>
                    <li>Wrist flexion</li>
                    <li>Wrist extension</li>
                    <li>Supination</li>
                    <li>Pronation</li>
                    <li>Radial deviation</li>
                    <li>Ulnar deviation</li>
                </ul>
                <p>Use bands, rice bucket, or mace.</p>
            `
        },
        giant_set: {
            name: "Giant Set (Arms & Shoulders)",
            detail: `
                <h4>üîÅ Superset x2</h4>
                <ol>
                    <li>Biceps curls to failure (10-30 reps)</li>
                    <li>Triceps extensions to failure</li>
                    <li>Band pull-aparts or lateral raises to failure</li>
                </ol>
                <p>Rest 2-3 min between rounds, no rest inside.</p>
            `
        },
        tricep_pushdown: {
            name: "Tricep Pushdown",
            detail: `
                <h4>üéØ Purpose</h4><p>High-volume triceps finisher.</p>
                <p>One rest-pause set totaling 100 reps with 30-50 RM weight.</p>
            `
        }
    }
};

/* ----- App Logic ----- */
const dom = {
    headerTitle:  document.getElementById('headerTitle'),
    headerTagline:document.getElementById('headerTagline'),
    backBtn:      document.getElementById('backBtn'),
    loading:      document.getElementById('loading'),
    workoutGrid:  document.getElementById('workoutGrid'),
    workoutDetail:document.getElementById('workoutDetail'),
    workoutDetailContent: document.getElementById('workoutDetailContent'),
    exerciseModal:document.getElementById('exerciseModal'),
    modalTitle:   document.getElementById('modalTitle'),
    modalBody:    document.getElementById('modalBody'),
    modalClose:   document.getElementById('modalClose')
};

let currentWorkoutIndex = null;

const haptic = () => navigator.vibrate && navigator.vibrate(10);

const renderWorkoutGrid = () => {
    dom.workoutGrid.innerHTML = '';
    programData.workouts.forEach((w,i)=>{
        const card = document.createElement('div');
        card.className = 'workout-card'; card.style.animationDelay = `${i*80}ms`;
        card.innerHTML = `<h3>${w.name}</h3><p class="description">${w.description}</p><span class="exercise-count">${w.blocks.length} exercises</span>`;
        card.onclick = () => showDetail(i);
        dom.workoutGrid.appendChild(card);
    });
    dom.loading.style.display='none';
};

const showDetail = idx => {
    currentWorkoutIndex = idx;
    const w = programData.workouts[idx];
    dom.headerTitle.textContent = w.name;
    dom.headerTagline.style.opacity = 0;
    dom.backBtn.classList.add('visible');
    dom.workoutDetailContent.innerHTML = '';
    w.blocks.forEach(b=>{
        const ex = programData.exercises[b.exerciseId];
        const div = document.createElement('div');
        div.className = 'exercise-block';
        div.onclick = () => showModal(b.exerciseId);
        div.innerHTML = `<div class="exercise-title">${ex.name}</div><div class="exercise-desc">${ex.detail}</div>`;
        dom.workoutDetailContent.appendChild(div);
    });
    dom.workoutDetail.scrollTop = 0;
    dom.workoutDetail.classList.add('active');
};

const hideDetail = () => {
    dom.workoutDetail.classList.remove('active');
    dom.backBtn.classList.remove('visible');
    dom.headerTitle.textContent = programData.program.name;
    dom.headerTagline.textContent = programData.program.tagline;
    dom.headerTagline.style.opacity = 1;
    currentWorkoutIndex = null;
};

const showModal = id => {
    const ex = programData.exercises[id];
    dom.modalTitle.textContent = ex.name;
    dom.modalBody.innerHTML = ex.detail;
    dom.exerciseModal.classList.add('active');
    haptic();
};

const hideModal = () => dom.exerciseModal.classList.remove('active');

/* Event listeners */
dom.backBtn.onclick = hideDetail;
dom.modalClose.onclick = hideModal;
dom.exerciseModal.onclick = e => { if(e.target===dom.exerciseModal) hideModal(); };
window.addEventListener('keydown', e=>{
    if(e.key==='Escape') hideModal();
});

/* init */
renderWorkoutGrid();
</script>
</body>
</html>
